{"title":"基本的事件操作","meta":{"title":"基本的事件操作","order":"1","filepath":"examples/index.md","filename":"index","directory":"examples","id":"examples-index","template":"post","category":"examples"},"body":"\n<style>\n    .markdown-body .widget {\n        zoom: 1;\n        display: inline;\n        display: inline-block;\n        border: 1px solid #ccc;\n        padding: 20px;\n        min-width: 300px;\n    }\n\n    #example3 li {\n        list-style: none;\n        clear: both;\n    }\n\n    #example3 li a {\n        float: left;\n    }\n\n    #example3 .remove {\n        float: right;\n        text-decoration: none;\n        color: red;\n    }\n\n    #example4 .action {\n        padding: 0 20px\n    }\n\n    #example4 .action a {\n        padding: 0 10px\n    }\n</style>\n\n\n## 示例一：Events Delegation\n\n\n### HTML\n\n````html\n<div id=\"example1\" class=\"example widget\">\n    <h3>我是标题，请点击我一下。</h3>\n    <p>我是段落，请将鼠标悬浮在我上面，我会变色的。</p>\n</div>\n````\n\n### JavaScript\n\n````js\nseajs.use(['widget', 'templatable', 'handlebars', '$'], function(Widget, Templatable, Handlebars, $) {\n\n    var WidgetA = Widget.extend({\n\n        events: {\n            'click h3': 'heading',\n            'mouseover p': 'paragraph'\n        },\n\n        heading: function() {\n            this.$('h3').html('标题被点击了。');\n        },\n\n        paragraph: function() {\n            this.$('p').css('background-color', 'red');\n        }\n    });\n\n    var a = new WidgetA({ element: '#example1' });\n});\n````\n\n\n## 示例二：Templatable Widget\n\n\n### HTML\n\n````html\n<div id=\"example2\" class=\"example\">\n</div>\n````\n\n### JavaScript\n\n````js\nseajs.use(['widget', 'templatable', 'handlebars', '$'], function(Widget, Templatable, Handlebars, $) {\n\n    var WidgetB = Widget.extend({\n\n        Implements: Templatable,\n\n        template: '<div id=\"b\" class=\"widget\"><h3>{{title}}</h3><p>{{content}}</p></div>',\n\n        model: {\n            title: '我是默认标题',\n            content: '我是默认内容'\n        },\n\n        events: {\n            'click': 'animate'\n        },\n\n        animate: function() {\n            this.$('p').slideToggle('slow');\n        },\n\n        setup: function() {\n            this.$('p').css({\n                'height': 100,\n                'padding': 20,\n                'backgroundColor': '#eee'\n            });\n        }\n    });\n\n    var b = new WidgetB({\n        model: {\n            content: '我是传入的内容，点击我试试'\n        },\n        parentNode: '#example2'\n    }).render();\n});\n````\n\n\n## 示例三：Template Helpers\n\n\n### HTML\n\n<div id=\"example3\" class=\"example\">\n    <script id=\"template-c\" type=\"text/x-handlebars-template\">\n        <div>\n            <h3>{{title}}</h3>\n            <ul>{{list items}}</ul>\n        </div>\n    </script>\n</div>\n\n```\n<div id=\"example3\" class=\"example\">\n    <script id=\"template-c\" type=\"text/x-handlebars-template\">\n        <div>\n            <h3>{{title}}</h3>\n            <ul>{{list items}}</ul>\n        </div>\n    </script>\n</div>\n```\n\n### JavaScript\n\n````js\nseajs.use(['widget', 'templatable', 'handlebars', '$'], function(Widget, Templatable, Handlebars, $) {\n\n    var WidgetC = Widget.extend({\n\n        Implements: Templatable,\n\n        events: {\n            'click li .remove': 'remove',\n            'click h3': 'toggle',\n            'mouseenter ul': 'focus',\n            'mouseleave ul': 'blur'\n        },\n\n        templateHelpers: {\n            'list': function(items) {\n                var out = '';\n\n                for (var i = 0, len = items.length; i < len; i++) {\n                    var item = items[i];\n                    out += '<li>' + item.text +\n                           '<a href=\"#\" class=\"remove\">X</a></li>';\n                }\n\n                return new Handlebars.SafeString(out);\n            }\n        },\n\n        remove: function(event) {\n            event.preventDefault();\n            $(event.target).parent().remove();\n        },\n\n        toggle: function() {\n            this.$('ul').slideToggle('slow');\n        },\n\n        focus: function() {\n            this.$('ul').css('backgroundColor', '#eee');\n        },\n\n        blur: function() {\n            this.$('ul').css('backgroundColor', '');\n        },\n\n        setup: function() {\n            this.element.attr('style', this.get('style'));\n            this.element.addClass(this.get('className'));\n        }\n\n    });\n\n    var c = new WidgetC({\n        className: 'widget',\n        titleClassName: 'title',\n        style: 'width: 350px',\n        model: {\n            title: \"设计原则（点击我）\",\n            items: [\n                { \"text\": \"开放：开源开放，海纳百川。（悬浮上来）\" },\n                { \"text\": \"简单：如无必要，勿增实体。\" },\n                { \"text\": \"易用：一目了然，容易学习。\" }\n            ]\n        },\n        template: $('#template-c').html(),\n        parentNode: '#example3'\n    }).render();\n});\n````\n","abspath":"D:/workspace/demo/widget/examples/index.md","filepath":"examples/index.md","filename":"index","directory":"examples","id":"examples-index","tags":[],"status":"public","html":"<style>\n    .markdown-body .widget {\n        zoom: 1;\n        display: inline;\n        display: inline-block;\n        border: 1px solid #ccc;\n        padding: 20px;\n        min-width: 300px;\n    }\n\n    #example3 li {\n        list-style: none;\n        clear: both;\n    }\n\n    #example3 li a {\n        float: left;\n    }\n\n    #example3 .remove {\n        float: right;\n        text-decoration: none;\n        color: red;\n    }\n\n    #example4 .action {\n        padding: 0 20px\n    }\n\n    #example4 .action a {\n        padding: 0 10px\n    }\n</style>\n\n\n<h2 id=\"示例一：events-delegation\">示例一：Events Delegation</h2><h3 id=\"html\">HTML</h3><div class=\"nico-insert-code\"><div id=\"example1\" class=\"example widget\">\n    <h3>我是标题，请点击我一下。</h3>\n    <p>我是段落，请将鼠标悬浮在我上面，我会变色的。</p>\n</div></div><div class=\"highlight\"><pre><code class=\"xml\"><span class=\"tag\">&lt;<span class=\"title\">div</span> <span class=\"attribute\">id</span>=<span class=\"value\">\"example1\"</span> <span class=\"attribute\">class</span>=<span class=\"value\">\"example widget\"</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"title\">h3</span>&gt;</span>我是标题，请点击我一下。<span class=\"tag\">&lt;/<span class=\"title\">h3</span>&gt;</span>\n    <span class=\"tag\">&lt;<span class=\"title\">p</span>&gt;</span>我是段落，请将鼠标悬浮在我上面，我会变色的。<span class=\"tag\">&lt;/<span class=\"title\">p</span>&gt;</span>\n<span class=\"tag\">&lt;/<span class=\"title\">div</span>&gt;</span></code></pre></div><h3 id=\"javascript\">JavaScript</h3><script>seajs.use(['widget', 'templatable', 'handlebars', '$'], function(Widget, Templatable, Handlebars, $) {\n\n    var WidgetA = Widget.extend({\n\n        events: {\n            'click h3': 'heading',\n            'mouseover p': 'paragraph'\n        },\n\n        heading: function() {\n            this.$('h3').html('标题被点击了。');\n        },\n\n        paragraph: function() {\n            this.$('p').css('background-color', 'red');\n        }\n    });\n\n    var a = new WidgetA({ element: '#example1' });\n});</script><div class=\"highlight\"><pre><code class=\"javascript\">seajs.use([<span class=\"string\">'widget'</span>, <span class=\"string\">'templatable'</span>, <span class=\"string\">'handlebars'</span>, <span class=\"string\">'$'</span>], <span class=\"keyword\">function</span>(Widget, Templatable, Handlebars, $) {\n\n    <span class=\"keyword\">var</span> WidgetA = Widget.extend({\n\n        events: {\n            <span class=\"string\">'click h3'</span>: <span class=\"string\">'heading'</span>,\n            <span class=\"string\">'mouseover p'</span>: <span class=\"string\">'paragraph'</span>\n        },\n\n        heading: <span class=\"keyword\">function</span>() {\n            <span class=\"keyword\">this</span>.$(<span class=\"string\">'h3'</span>).html(<span class=\"string\">'标题被点击了。'</span>);\n        },\n\n        paragraph: <span class=\"keyword\">function</span>() {\n            <span class=\"keyword\">this</span>.$(<span class=\"string\">'p'</span>).css(<span class=\"string\">'background-color'</span>, <span class=\"string\">'red'</span>);\n        }\n    });\n\n    <span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> WidgetA({ element: <span class=\"string\">'#example1'</span> });\n});</code></pre></div><h2 id=\"示例二：templatable-widget\">示例二：Templatable Widget</h2><h3 id=\"html\">HTML</h3><div class=\"nico-insert-code\"><div id=\"example2\" class=\"example\">\n</div></div><div class=\"highlight\"><pre><code class=\"xml\"><span class=\"tag\">&lt;<span class=\"title\">div</span> <span class=\"attribute\">id</span>=<span class=\"value\">\"example2\"</span> <span class=\"attribute\">class</span>=<span class=\"value\">\"example\"</span>&gt;</span>\n<span class=\"tag\">&lt;/<span class=\"title\">div</span>&gt;</span></code></pre></div><h3 id=\"javascript\">JavaScript</h3><script>seajs.use(['widget', 'templatable', 'handlebars', '$'], function(Widget, Templatable, Handlebars, $) {\n\n    var WidgetB = Widget.extend({\n\n        Implements: Templatable,\n\n        template: '<div id=\"b\" class=\"widget\"><h3>{{title}}</h3><p>{{content}}</p></div>',\n\n        model: {\n            title: '我是默认标题',\n            content: '我是默认内容'\n        },\n\n        events: {\n            'click': 'animate'\n        },\n\n        animate: function() {\n            this.$('p').slideToggle('slow');\n        },\n\n        setup: function() {\n            this.$('p').css({\n                'height': 100,\n                'padding': 20,\n                'backgroundColor': '#eee'\n            });\n        }\n    });\n\n    var b = new WidgetB({\n        model: {\n            content: '我是传入的内容，点击我试试'\n        },\n        parentNode: '#example2'\n    }).render();\n});</script><div class=\"highlight\"><pre><code class=\"javascript\">seajs.use([<span class=\"string\">'widget'</span>, <span class=\"string\">'templatable'</span>, <span class=\"string\">'handlebars'</span>, <span class=\"string\">'$'</span>], <span class=\"keyword\">function</span>(Widget, Templatable, Handlebars, $) {\n\n    <span class=\"keyword\">var</span> WidgetB = Widget.extend({\n\n        Implements: Templatable,\n\n        template: <span class=\"string\">'&lt;div id=\"b\" class=\"widget\"&gt;&lt;h3&gt;{{title}}&lt;/h3&gt;&lt;p&gt;{{content}}&lt;/p&gt;&lt;/div&gt;'</span>,\n\n        model: {\n            title: <span class=\"string\">'我是默认标题'</span>,\n            content: <span class=\"string\">'我是默认内容'</span>\n        },\n\n        events: {\n            <span class=\"string\">'click'</span>: <span class=\"string\">'animate'</span>\n        },\n\n        animate: <span class=\"keyword\">function</span>() {\n            <span class=\"keyword\">this</span>.$(<span class=\"string\">'p'</span>).slideToggle(<span class=\"string\">'slow'</span>);\n        },\n\n        setup: <span class=\"keyword\">function</span>() {\n            <span class=\"keyword\">this</span>.$(<span class=\"string\">'p'</span>).css({\n                <span class=\"string\">'height'</span>: <span class=\"number\">100</span>,\n                <span class=\"string\">'padding'</span>: <span class=\"number\">20</span>,\n                <span class=\"string\">'backgroundColor'</span>: <span class=\"string\">'#eee'</span>\n            });\n        }\n    });\n\n    <span class=\"keyword\">var</span> b = <span class=\"keyword\">new</span> WidgetB({\n        model: {\n            content: <span class=\"string\">'我是传入的内容，点击我试试'</span>\n        },\n        parentNode: <span class=\"string\">'#example2'</span>\n    }).render();\n});</code></pre></div><h2 id=\"示例三：template-helpers\">示例三：Template Helpers</h2><h3 id=\"html\">HTML</h3><div id=\"example3\" class=\"example\">\n    <script id=\"template-c\" type=\"text/x-handlebars-template\">\n        <div>\n            <h3>{{title}}</h3>\n            <ul>{{list items}}</ul>\n        </div>\n    </script>\n</div>\n\n<pre>&lt;div id=&quot;example3&quot; class=&quot;example&quot;&gt;\n    &lt;script id=&quot;template-c&quot; type=&quot;text/x-handlebars-template&quot;&gt;\n        &lt;div&gt;\n            &lt;h3&gt;{{title}}&lt;/h3&gt;\n            &lt;ul&gt;{{list items}}&lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/script&gt;\n&lt;/div&gt;</pre><h3 id=\"javascript\">JavaScript</h3><script>seajs.use(['widget', 'templatable', 'handlebars', '$'], function(Widget, Templatable, Handlebars, $) {\n\n    var WidgetC = Widget.extend({\n\n        Implements: Templatable,\n\n        events: {\n            'click li .remove': 'remove',\n            'click h3': 'toggle',\n            'mouseenter ul': 'focus',\n            'mouseleave ul': 'blur'\n        },\n\n        templateHelpers: {\n            'list': function(items) {\n                var out = '';\n\n                for (var i = 0, len = items.length; i < len; i++) {\n                    var item = items[i];\n                    out += '<li>' + item.text +\n                           '<a href=\"#\" class=\"remove\">X</a></li>';\n                }\n\n                return new Handlebars.SafeString(out);\n            }\n        },\n\n        remove: function(event) {\n            event.preventDefault();\n            $(event.target).parent().remove();\n        },\n\n        toggle: function() {\n            this.$('ul').slideToggle('slow');\n        },\n\n        focus: function() {\n            this.$('ul').css('backgroundColor', '#eee');\n        },\n\n        blur: function() {\n            this.$('ul').css('backgroundColor', '');\n        },\n\n        setup: function() {\n            this.element.attr('style', this.get('style'));\n            this.element.addClass(this.get('className'));\n        }\n\n    });\n\n    var c = new WidgetC({\n        className: 'widget',\n        titleClassName: 'title',\n        style: 'width: 350px',\n        model: {\n            title: \"设计原则（点击我）\",\n            items: [\n                { \"text\": \"开放：开源开放，海纳百川。（悬浮上来）\" },\n                { \"text\": \"简单：如无必要，勿增实体。\" },\n                { \"text\": \"易用：一目了然，容易学习。\" }\n            ]\n        },\n        template: $('#template-c').html(),\n        parentNode: '#example3'\n    }).render();\n});</script><div class=\"highlight\"><pre><code class=\"javascript\">seajs.use([<span class=\"string\">'widget'</span>, <span class=\"string\">'templatable'</span>, <span class=\"string\">'handlebars'</span>, <span class=\"string\">'$'</span>], <span class=\"keyword\">function</span>(Widget, Templatable, Handlebars, $) {\n\n    <span class=\"keyword\">var</span> WidgetC = Widget.extend({\n\n        Implements: Templatable,\n\n        events: {\n            <span class=\"string\">'click li .remove'</span>: <span class=\"string\">'remove'</span>,\n            <span class=\"string\">'click h3'</span>: <span class=\"string\">'toggle'</span>,\n            <span class=\"string\">'mouseenter ul'</span>: <span class=\"string\">'focus'</span>,\n            <span class=\"string\">'mouseleave ul'</span>: <span class=\"string\">'blur'</span>\n        },\n\n        templateHelpers: {\n            <span class=\"string\">'list'</span>: <span class=\"keyword\">function</span>(items) {\n                <span class=\"keyword\">var</span> out = <span class=\"string\">''</span>;\n\n                <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>, len = items.length; i &lt; len; i++) {\n                    <span class=\"keyword\">var</span> item = items[i];\n                    out += <span class=\"string\">'&lt;li&gt;'</span> + item.text +\n                           <span class=\"string\">'&lt;a href=\"#\" class=\"remove\"&gt;X&lt;/a&gt;&lt;/li&gt;'</span>;\n                }\n\n                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Handlebars.SafeString(out);\n            }\n        },\n\n        remove: <span class=\"keyword\">function</span>(event) {\n            event.preventDefault();\n            $(event.target).parent().remove();\n        },\n\n        toggle: <span class=\"keyword\">function</span>() {\n            <span class=\"keyword\">this</span>.$(<span class=\"string\">'ul'</span>).slideToggle(<span class=\"string\">'slow'</span>);\n        },\n\n        focus: <span class=\"keyword\">function</span>() {\n            <span class=\"keyword\">this</span>.$(<span class=\"string\">'ul'</span>).css(<span class=\"string\">'backgroundColor'</span>, <span class=\"string\">'#eee'</span>);\n        },\n\n        blur: <span class=\"keyword\">function</span>() {\n            <span class=\"keyword\">this</span>.$(<span class=\"string\">'ul'</span>).css(<span class=\"string\">'backgroundColor'</span>, <span class=\"string\">''</span>);\n        },\n\n        setup: <span class=\"keyword\">function</span>() {\n            <span class=\"keyword\">this</span>.element.attr(<span class=\"string\">'style'</span>, <span class=\"keyword\">this</span>.get(<span class=\"string\">'style'</span>));\n            <span class=\"keyword\">this</span>.element.addClass(<span class=\"keyword\">this</span>.get(<span class=\"string\">'className'</span>));\n        }\n\n    });\n\n    <span class=\"keyword\">var</span> c = <span class=\"keyword\">new</span> WidgetC({\n        className: <span class=\"string\">'widget'</span>,\n        titleClassName: <span class=\"string\">'title'</span>,\n        style: <span class=\"string\">'width: 350px'</span>,\n        model: {\n            title: <span class=\"string\">\"设计原则（点击我）\"</span>,\n            items: [\n                { <span class=\"string\">\"text\"</span>: <span class=\"string\">\"开放：开源开放，海纳百川。（悬浮上来）\"</span> },\n                { <span class=\"string\">\"text\"</span>: <span class=\"string\">\"简单：如无必要，勿增实体。\"</span> },\n                { <span class=\"string\">\"text\"</span>: <span class=\"string\">\"易用：一目了然，容易学习。\"</span> }\n            ]\n        },\n        template: $(<span class=\"string\">'#template-c'</span>).html(),\n        parentNode: <span class=\"string\">'#example3'</span>\n    }).render();\n});</code></pre></div>","toc":"<ul><li><a href=\"#示例一：events-delegation\">示例一：Events Delegation</a><ul><li><a href=\"#html\">HTML</a></li><li><a href=\"#javascript\">JavaScript</a></li></ul></li><li><a href=\"#示例二：templatable-widget\">示例二：Templatable Widget</a><ul><li><a href=\"#html\">HTML</a></li><li><a href=\"#javascript\">JavaScript</a></li></ul></li><li><a href=\"#示例三：template-helpers\">示例三：Template Helpers</a><ul><li><a href=\"#html\">HTML</a></li><li><a href=\"#javascript\">JavaScript</a></li></ul></ul>","iframes":{},"template":"post"}