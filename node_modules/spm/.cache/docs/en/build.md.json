{"title":"Build","meta":{"title":"Build","pubdate":"2013-02-21","index":"1","filepath":"docs/en/build.md","filename":"build","directory":"en","id":"en-build"},"body":"\n`spm build` focuses on package build, it is not designed as a build tool.\nIt is based on [grunt-spm-build][] which is a collection of grunt tasks.\n\n## Standard Package\n\nThe folder structure of a standard package:\n\n```\npackage.json\nsrc/\n    filename.js\n```\n\nAfter `spm build`, the folder structure:\n\n```\npackage.json\nsrc/\n    filename.js\ndist/\n    filename.js\n    filename-debug.js\n```\n\nLearn how to write [package.json](./package.md).\n\n\n## Customize Build\n\n`spm build` uses [grunt](http://gruntjs.com) as the task manager.\nIf you want to customize and control the build process, you need to write\nyour own grunt tasks.\n\n`spm build` will call the `build` task in your `Gruntfile.js`.\n\nAn example of `Gruntfile.js`:\n\n```js\nmodule.exports = function(grunt) {\n    grunt.registerTask('build', function() {\n        console.log('customize build')\n    });\n}\n```\n\nWhen `spm build`, it will print `customize build`.\n\nLearn more about [grunt-spm-build][], and customize your own build process.\nYou can even write your own build tools with the help of our low level api\n[cmd-util](https://github.com/spmjs/cmd-util).\n\n\n## Remote Gruntfile\n\nRemote gruntfile is designed for team collaboration.\n\nAdd a `gruntfile` config in `~/.spm/spmrc`:\n\n```ini\n[user]\ngruntfile = http://your-company.com/gruntfile.js\n```\n\nWhen `spm build`, it will download the gruntfile, and run the `build` task in this gruntfile.\n\n[grunt-spm-build]: https://github.com/spmjs/grunt-spm-build\n","abspath":"/Users/lepture/workspace/node/spm/docs/en/build.md","filepath":"docs/en/build.md","filename":"build","directory":"en","id":"en-build","tags":[],"pubdate":"2013-02-21T00:00:00.000Z","status":"public","html":"<p><code>spm build</code> focuses on package build, it is not designed as a build tool.\nIt is based on <a href=\"https://github.com/spmjs/grunt-spm-build\">grunt-spm-build</a> which is a collection of grunt tasks.</p>\n<h2 id=\"standard-package\">Standard Package</h2><p>The folder structure of a standard package:</p>\n<pre>package.json\nsrc/\n    filename.js</pre><p>After <code>spm build</code>, the folder structure:</p>\n<pre>package.json\nsrc/\n    filename.js\ndist/\n    filename.js\n    filename-debug.js</pre><p>Learn how to write <a href=\"./package.md\">package.json</a>.</p>\n<h2 id=\"customize-build\">Customize Build</h2><p><code>spm build</code> uses <a href=\"http://gruntjs.com\">grunt</a> as the task manager.\nIf you want to customize and control the build process, you need to write\nyour own grunt tasks.</p>\n<p><code>spm build</code> will call the <code>build</code> task in your <code>Gruntfile.js</code>.</p>\n<p>An example of <code>Gruntfile.js</code>:</p>\n<div class=\"highlight\"><pre><code class=\"javascript\">module.exports = <span class=\"keyword\">function</span>(grunt) {\n    grunt.registerTask(<span class=\"string\">'build'</span>, <span class=\"keyword\">function</span>() {\n        console.log(<span class=\"string\">'customize build'</span>)\n    });\n}</code></pre></div><p>When <code>spm build</code>, it will print <code>customize build</code>.</p>\n<p>Learn more about <a href=\"https://github.com/spmjs/grunt-spm-build\">grunt-spm-build</a>, and customize your own build process.\nYou can even write your own build tools with the help of our low level api\n<a href=\"https://github.com/spmjs/cmd-util\">cmd-util</a>.</p>\n<h2 id=\"remote-gruntfile\">Remote Gruntfile</h2><p>Remote gruntfile is designed for team collaboration.</p>\n<p>Add a <code>gruntfile</code> config in <code>~/.spm/spmrc</code>:</p>\n<div class=\"highlight\"><pre><code class=\"ini\"><span class=\"title\">[user]</span>\n<span class=\"setting\">gruntfile = <span class=\"value\">http://your-company.com/gruntfile.js</span></span></code></pre></div><p>When <code>spm build</code>, it will download the gruntfile, and run the <code>build</code> task in this gruntfile.</p>\n","toc":"<ul><li><a href=\"#standard-package\">Standard Package</a></li><li><a href=\"#customize-build\">Customize Build</a></li><li><a href=\"#remote-gruntfile\">Remote Gruntfile</a></li></ul>","iframes":{}}