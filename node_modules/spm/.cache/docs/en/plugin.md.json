{"title":"Plugin","meta":{"title":"Plugin","pubdate":"2013-03-20","index":"10","filepath":"docs/en/plugin.md","filename":"plugin","directory":"en","id":"en-plugin"},"body":"\n\nPlugins are commands that can be excuted(indexed) by `spm`.\n\nLets try:\n\n```\n$ npm install spm-init -g\n```\n\n`spm-init` is a spm plugin, when you excute `spm -h`, you will find that spm has a plugin commands called `init`.\n\nCreate a plugin is simple with `spm-init`. Get the template:\n\n```\n$ git clone git://github.com/spmjs/template-spmplugin.git ~/.spm/init/spmplugin\n```\n\nAnd now, you can create a plugin:\n\n```\n$ spm init spmplugin\n```\n\n\n## The background\n\nLearn the background of spm plugins.\n\n### Install\n\nThanks for npm's `postinstall` policy.\n\nAdd in your `package.json`:\n\n```js\n{\n    \"scripts\": {\n        \"postinstall\": \"scripts/postinstall.js\"\n    }\n}\n```\n\nCreate a `scripts/postinstall.js` in your package:\n\n```js\n#!/usr/bin/env node\n\nvar spm = require('spm')\nspm.plugin.install({\n    name: 'init',\n    binary: 'spm-init',\n    description: 'Generate project scaffolding from a template.'\n});\n```\n\nMake this script excutable by:\n\n    $ chmod +x scripts/postinstall.js\n\n\nAnd when you install this package, for example:\n\n    $ npm install spm-init -g\n\nYou will see init on spm now:\n\n    $ spm help\n\n\n### Uninstall\n\nAdd in your `package.json`:\n\n```js\n{\n    \"scripts\": {\n        \"uninstall\": \"scripts/uninstall.js\"\n    }\n}\n```\n\nCreate a `scripts/uninstall.js` in your package:\n\n```js\n#!/usr/bin/env node\n\nvar spm = require('spm')\nspm.plugin.uninstall('init')\n```\n\nMake this script excutable by:\n\n    $ chmod +x scripts/postinstall.js\n\n\n## Plugins\n\nYou can find some offical plugins on [github](https://github.com/spmjs).\n","abspath":"/Users/lepture/workspace/node/spm/docs/en/plugin.md","filepath":"docs/en/plugin.md","filename":"plugin","directory":"en","id":"en-plugin","tags":[],"pubdate":"2013-03-20T00:00:00.000Z","status":"public","html":"<p>Plugins are commands that can be excuted(indexed) by <code>spm</code>.</p>\n<p>Lets try:</p>\n<pre>$ npm install spm-init -g</pre><p><code>spm-init</code> is a spm plugin, when you excute <code>spm -h</code>, you will find that spm has a plugin commands called <code>init</code>.</p>\n<p>Create a plugin is simple with <code>spm-init</code>. Get the template:</p>\n<pre>$ git clone git://github.com/spmjs/template-spmplugin.git ~/.spm/init/spmplugin</pre><p>And now, you can create a plugin:</p>\n<pre>$ spm init spmplugin</pre><h2 id=\"the-background\">The background</h2><p>Learn the background of spm plugins.</p>\n<h3 id=\"install\">Install</h3><p>Thanks for npm&#39;s <code>postinstall</code> policy.</p>\n<p>Add in your <code>package.json</code>:</p>\n<div class=\"highlight\"><pre><code class=\"javascript\">{\n    <span class=\"string\">\"scripts\"</span>: {\n        <span class=\"string\">\"postinstall\"</span>: <span class=\"string\">\"scripts/postinstall.js\"</span>\n    }\n}</code></pre></div><p>Create a <code>scripts/postinstall.js</code> in your package:</p>\n<div class=\"highlight\"><pre><code class=\"javascript\">#!<span class=\"regexp\">/usr/</span>bin/env node\n\n<span class=\"keyword\">var</span> spm = require(<span class=\"string\">'spm'</span>)\nspm.plugin.install({\n    name: <span class=\"string\">'init'</span>,\n    binary: <span class=\"string\">'spm-init'</span>,\n    description: <span class=\"string\">'Generate project scaffolding from a template.'</span>\n});</code></pre></div><p>Make this script excutable by:</p>\n<pre>$ chmod +x scripts/postinstall.js</pre><p>And when you install this package, for example:</p>\n<pre>$ npm install spm-init -g</pre><p>You will see init on spm now:</p>\n<pre>$ spm help</pre><h3 id=\"uninstall\">Uninstall</h3><p>Add in your <code>package.json</code>:</p>\n<div class=\"highlight\"><pre><code class=\"javascript\">{\n    <span class=\"string\">\"scripts\"</span>: {\n        <span class=\"string\">\"uninstall\"</span>: <span class=\"string\">\"scripts/uninstall.js\"</span>\n    }\n}</code></pre></div><p>Create a <code>scripts/uninstall.js</code> in your package:</p>\n<div class=\"highlight\"><pre><code class=\"javascript\">#!<span class=\"regexp\">/usr/</span>bin/env node\n\n<span class=\"keyword\">var</span> spm = require(<span class=\"string\">'spm'</span>)\nspm.plugin.uninstall(<span class=\"string\">'init'</span>)</code></pre></div><p>Make this script excutable by:</p>\n<pre>$ chmod +x scripts/postinstall.js</pre><h2 id=\"plugins\">Plugins</h2><p>You can find some offical plugins on <a href=\"https://github.com/spmjs\">github</a>.</p>\n","toc":"<ul><li><a href=\"#the-background\">The background</a><ul><li><a href=\"#install\">Install</a></li><li><a href=\"#uninstall\">Uninstall</a></li></ul></li><li><a href=\"#plugins\">Plugins</a></li></ul>","iframes":{}}